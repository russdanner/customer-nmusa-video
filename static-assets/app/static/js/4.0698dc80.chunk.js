(this["webpackJsonpvideo-center-blueprint"]=this["webpackJsonpvideo-center-blueprint"]||[]).push([[4],{1012:function(e,t,i){"use strict";i.r(t);var r=i(30),s=i(31),n=i(37),o=i(38),c=i(0),a=i(53),d=i(89),l=i(84),u=i(172),h=i(1005),p=i(96),v=i(95),b=i(410),m=i(67),f=i(171),_=i.n(f),j=i(71),g=i(3),y=function(e){Object(n.a)(i,e);var t=Object(o.a)(i);function i(){return Object(r.a)(this,i),t.apply(this,arguments)}return Object(s.a)(i,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.model,i=e.index,r=e.fieldId,s=e.slide;return Object(g.jsx)("div",{className:"discover-slider__inner",children:Object(g.jsxs)(j.c,{component:m.b,model:t,fieldId:r,index:i,className:"discover-slider__link",to:s.url_s,children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"image discover-slider__inner--background discover-slider__inner--background-mobile",children:Object(g.jsx)("div",{className:"image__image",style:{backgroundImage:'url("'.concat(s.background_s,'")')}})}),Object(g.jsx)("div",{className:"image discover-slider__inner--background discover-slider__inner--background-desktop",children:Object(g.jsx)("div",{className:"image__image",style:{backgroundImage:'url("'.concat(s.background_s,'")')}})})]}),Object(g.jsxs)("div",{className:"discover-slider__inner--content",children:[s.vod_s&&Object(g.jsx)("div",{className:"discover-slider__inner--vod",children:Object(g.jsx)(j.c,{component:"span",className:"discover-slider__inner--vod-label",model:t,index:i,fieldId:"".concat(r,".vod_s"),children:s.vod_s})}),Object(g.jsx)(j.c,{component:"h1",className:"heading discover-slider__inner--title heading--medium heading--slider",model:t,index:i,fieldId:"".concat(r,".title_t"),children:s.title_t}),s.logo_s&&Object(g.jsx)("div",{className:"discover-slider__inner--title discover-slider__inner--title--logo",style:{backgroundImage:'url("'.concat(s.logo_s,'")')}}),Object(g.jsx)(j.c,{className:"discover-slider__inner--subtitle",model:t,index:i,fieldId:"".concat(r,".subtitle_s"),children:_()(s.subtitle_s)})]})]})})}}]),i}(c.Component),O=y,C=i(64),k=function(e){Object(n.a)(i,e);var t=Object(o.a)(i);function i(){return Object(r.a)(this,i),t.apply(this,arguments)}return Object(s.a)(i,[{key:"componentDidMount",value:function(){var e=(Array.isArray(this.props.data)?this.props.data:[this.props.data])[0].key;this.setState({descriptorKey:e}),this.props.getDescriptor(e)}},{key:"changeSlide",value:function(e){"previous"===e?this.slider.prev():this.slider.next()}},{key:"renderSliderControls",value:function(){var e=this;return Object(g.jsxs)("div",{className:"discover-slider__inner--nav",children:[Object(g.jsx)("label",{className:"discover-slider__inner--nav-button discover-slider__inner--nav-prev",onClick:function(){return e.changeSlide("previous")},children:Object(g.jsx)(p.a,{className:"nav-icon",icon:v.a})}),Object(g.jsx)("label",{className:"discover-slider__inner--nav-button discover-slider__inner--nav-next",onClick:function(){return e.changeSlide("next")},children:Object(g.jsx)(p.a,{className:"nav-icon",icon:v.b})})]})}},{key:"renderSlider",value:function(e){var t=this,i=e.component.slides_o,r=Object(C.d)(e);return i=i.item instanceof Array?i.item:[i.item],Object(g.jsxs)(b.a,{className:"hero-container hero-container__ghost",children:[Object(g.jsx)(h.a,{className:"discover-slider",effect:"fade",ref:function(e){return t.slider=e},autoplay:!0,children:i.map((function(e,t){return Object(g.jsx)(O,{slide:e,model:r,index:t,fieldId:"slides_o"},t)}))}),i.length>1&&this.renderSliderControls()]})}},{key:"render",value:function(){return Object(g.jsx)("div",{children:this.props.descriptors&&this.state&&this.state.descriptorKey&&this.props.descriptors[this.state.descriptorKey]&&this.renderSlider(this.props.descriptors[this.state.descriptorKey])})}}]),i}(c.Component),x=k,N=i(158),E=i(52),S=i(341),D=i(99),A=[D.a.FEATURED_VIDEOS,D.a.LATEST_VIDEOS,D.a.FEATURED_CHANNELS],I=function(e){Object(n.a)(i,e);var t=Object(o.a)(i);function i(e){var s;return Object(r.a)(this,i),(s=t.call(this,e)).state={fetchCategories:{}},s}return Object(s.a)(i,[{key:"componentWillMount",value:function(){this.props.setVideoDocked(!1),this.descriptorUrl="/site/website/index.xml",Object(E.d)(this.props.descriptors[this.descriptorUrl])&&this.props.getDescriptor(this.descriptorUrl)}},{key:"componentDidMount",value:function(){this.fetchContents(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.fetchContents(e)}},{key:"componentWillUnmount",value:function(){this.props.setHeaderGhost(!1)}},{key:"renderSlider",value:function(e){if(e.page.slider_o.item)return Object(g.jsx)(x,{data:e.page.slider_o.item,getDescriptor:this.props.getDescriptor,descriptors:this.props.descriptors})}},{key:"fetchContents",value:function(e){var t=e.descriptors;if(t&&t[this.descriptorUrl]){var i=t[this.descriptorUrl];this.state.fetchCategories[D.a.FEATURED_VIDEOS]||this.fetchContentsByCategory(this.getFeaturedVideoCategory(i)),this.state.fetchCategories[D.a.LATEST_VIDEOS]||this.fetchContentsByCategory(this.getLatestVideoCategory(i)),this.state.fetchCategories[D.a.FEATURED_CHANNELS]||this.fetchContentsByCategory(this.getFeaturedChannelsCategory(i))}else console.log("Error: No descriptors loaded.")}},{key:"fetchContentsByCategory",value:function(e){var t=this;Object(S.a)(e).subscribe((function(i){var r=t.state.fetchCategories;e.hits=i.hits,r[e.key]=e,t.setState({fetchCategories:r})}))}},{key:"getFeaturedVideoCategory",value:function(e){return{key:D.a.FEATURED_VIDEOS,value:"Featured Videos",viewAll:!1,order:0,query:{bool:{filter:[{bool:{should:[{match:{"content-type":"/component/youtube-video"}},{match:{"content-type":"/component/video-on-demand"}}]}},{match:{featured_b:!0}}]}},numResults:e.page.maxVideosDisplay_i}}},{key:"getLatestVideoCategory",value:function(e){return{key:D.a.LATEST_VIDEOS,value:"Latest Videos",viewAll:!1,order:1,query:{bool:{filter:[{bool:{should:[{match:{"content-type":"/component/youtube-video"}},{match:{"content-type":"/component/video-on-demand"}}]}}]}},sort:{by:"date_dt",order:"desc"},numResults:e.page.maxVideosDisplay_i}}},{key:"getFeaturedChannelsCategory",value:function(e){return{key:D.a.FEATURED_CHANNELS,value:"Featured Channels",type:"channel-card-alt",order:2,query:{bool:{filter:[{match:{"content-type":"/component/component-channel"}},{match:{featured_b:!0}}]}},numResults:e.page.maxChannelsDisplay_i}}},{key:"buildCategories",value:function(){for(var e=this.state.fetchCategories,t=[],i=A,r=0;r<i.length;r+=1){e[i[r]]&&e[i[r]].hits&&e[i[r]].hits.length>0&&t.push(e[i[r]])}return t}},{key:"renderHomeContent",value:function(e){var t=this,i=A.every((function(e){return t.state.fetchCategories[e]}));return Object(g.jsxs)("div",{children:[this.renderSlider(e),i&&Object(g.jsx)(N.a,{categories:this.buildCategories()})]})}},{key:"render",value:function(){var e=this.props.descriptors;return Object(g.jsx)("div",{children:e&&e[this.descriptorUrl]&&this.renderHomeContent(e[this.descriptorUrl])})}}]),i}(c.Component);t.default=Object(a.b)((function(e){return{videoStatus:e.video.videoStatus,descriptors:e.craftercms.descriptors.entries}}),(function(e){return{setVideoDocked:function(t){e(Object(l.a)(t))},getDescriptor:function(t){e(Object(d.d)(t))},setHeaderGhost:function(t){e(Object(u.a)(t))}}}))(I)}}]);
//# sourceMappingURL=4.0698dc80.chunk.js.map